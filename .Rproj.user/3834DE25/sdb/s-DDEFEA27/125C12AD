{
    "collab_server" : "",
    "contents" : "# Example for Jags-Ymet-Xnom2fac-MrobustHet.R \n#------------------------------------------------------------------------------- \n# Optional generic preliminaries:\n# graphics.off() # This closes all of R's graphics windows.\n# rm(list=ls())  # Careful! This clears all of R's memory!\n#------------------------------------------------------------------------------- \n#Load The data file \n\nfileNameRoot = \"SalaryRobustHet-\" \ngraphFileType = \"eps\" \nmyDataFrame = read.csv( file=\"Salary.csv\" )\n# Re-label and re-order the Pos factor:\nmyDataFrame$Pos = factor( myDataFrame$Pos , \n                          levels=c(\"FT3\",\"FT2\",\"FT1\",\"NDW\",\"DST\") , \n                          ordered=TRUE , \n                          labels=c(\"Assis\",\"Assoc\",\"Full\",\"Endow\",\"Disting\") )\n# Specify the column names in the data file relevant to the analysis:\nyName=\"Salary\" \n# x1 should be factor with fewer levels, to plot in single pane:\nx1Name=\"Pos\" \nx2Name=\"Org\" \n# Specify desired contrasts.\n# Each main-effect contrast is a list of 2 vectors of level names, \n# a comparison value (typically 0.0), and a ROPE (which could be NULL):\n\nx1contrasts = list( \n  list( c(\"Full\") , c(\"Assoc\") , compVal=0.0 , ROPE=c(-1000,1000) ) ,\n  list( c(\"Assoc\") , c(\"Assis\") , compVal=0.0 , ROPE=c(-1000,1000) ) \n)\nx2contrasts = list( \n  list( c(\"CHEM\") , c(\"ENG\") , compVal=0.0 , ROPE=c(-1000,1000) ) ,\n  list( c(\"CHEM\") , c(\"PSY\") , compVal=0.0 , ROPE=c(-1000,1000) ) ,\n  list( c(\"BFIN\") , c(\"PSY\",\"CHEM\",\"ENG\") , compVal=0.0 , ROPE=c(-1000,1000) ) \n)\n# Each interaction contrast is a list of 2 lists of 2 vectors of level names, \n# a comparison value (typically 0.0), and a ROPE (which could be NULL)::\nx1x2contrasts = list( \n  list( list( c(\"Full\") , c(\"Assis\") ) ,\n        list( c(\"CHEM\") , c(\"ENG\") ) ,\n        compVal=0.0 , ROPE=c(-1000,1000) ) ,\n  list( list( c(\"Full\") , c(\"Assis\") ) ,\n        list( c(\"CHEM\") , c(\"PSY\") ) ,\n        compVal=0.0 , ROPE=c(-1000,1000) ) ,\n  list( list( c(\"Full\") , c(\"Assoc\",\"Assis\") ) ,\n        list( c(\"BFIN\") , c(\"PSY\",\"CHEM\",\"ENG\") ) , \n        compVal=0.0 , ROPE=c(-1000,1000) )\n) \n\n#------------------------------------------------------------------------------- \n# Load the relevant model into R's working memory:\nsource(\"Jags-Ymet-Xnom2fac-MrobustHet.R\")\n\n#------------------------------------------------------------------------------- \n# Generate the MCMC chain:\nhead(myDataFrame)\n\nmcmcCoda = genMCMC( datFrm=myDataFrame , \n                    yName=yName , x1Name=x1Name , x2Name=x2Name ,\n                    numSavedSteps=15000 , thinSteps=5 , saveName=fileNameRoot )\n#------------------------------------------------------------------------------- \n# Display diagnostics of chain, for specified parameters:\nparameterNames = varnames(mcmcCoda) \nshow( parameterNames ) # show all parameter names, for reference\nfor ( parName in c(\"b0\",\"b1[1]\",\"b2[1]\",\"b1b2[1,1]\",\"ySigma[1,1]\",\"ySigma[1,7]\",\"ySigma[5,7]\",\"nu\") ) {\n  diagMCMC( codaObject=mcmcCoda , parName=parName , \n            saveName=fileNameRoot , saveType=graphFileType )\n}\n#------------------------------------------------------------------------------- \n# Get summary statistics of chain:\nsummaryInfo = smryMCMC( mcmcCoda , \n                        datFrm=myDataFrame , x1Name=x1Name , x2Name=x2Name ,\n                        x1contrasts=x1contrasts , \n                        x2contrasts=x2contrasts , \n                        x1x2contrasts=x1x2contrasts ,\n                        saveName=fileNameRoot )\nshow(summaryInfo)\n# Display posterior information:\nplotMCMC( mcmcCoda , \n          datFrm=myDataFrame , yName=yName , x1Name=x1Name , x2Name=x2Name ,\n          x1contrasts=x1contrasts , \n          x2contrasts=x2contrasts , \n          x1x2contrasts=x1x2contrasts ,\n          saveName=fileNameRoot , saveType=graphFileType )\n#------------------------------------------------------------------------------- \n# Other specific comparisons of cells:\nif ( fileNameRoot == \"SalaryRobustHet-\" ) {\n  # THIS x1level minus THAT x1level at AT x2level:\n  THISx1 = \"Full\"\n  THATx1 = \"Assis\"\n  ATx2 = \"CHEM\"\n  THISidx = which(levels(myDataFrame[,x1Name])==THISx1)\n  THATidx = which(levels(myDataFrame[,x1Name])==THATx1)\n  ATidx   = which(levels(myDataFrame[,x2Name])==ATx2)\n  openGraph(height=4,width=4)\n  compInfo = plotPost( \n    as.matrix(mcmcCoda)[,paste(\"m[\",THISidx,\",\",ATidx,\"]\",sep=\"\")] -\n      as.matrix(mcmcCoda)[,paste(\"m[\",THATidx,\",\",ATidx,\"]\",sep=\"\")] , \n    main=paste(THISx1,\"-\",THATx1,\"@\",ATx2) , \n    xlab=paste(\"Difference in\",yName) , \n    compVal=0 ,ROPE=c(-1000,1000) )\n  show(compInfo)\n  saveGraph(file=paste(fileNameRoot,THISx1,\"-\",THATx1,\"At\",ATx2,sep=\"\"),\n            type=graphFileType)\n  # THIS x1level minus THAT x1level at AT x2level:\n  THISx1 = \"Full\"\n  THATx1 = \"Assis\"\n  ATx2 = \"PSY\"\n  THISidx = which(levels(myDataFrame[,x1Name])==THISx1)\n  THATidx = which(levels(myDataFrame[,x1Name])==THATx1)\n  ATidx   = which(levels(myDataFrame[,x2Name])==ATx2)\n  openGraph(height=4,width=4)\n  compInfo = plotPost( \n    as.matrix(mcmcCoda)[,paste(\"m[\",THISidx,\",\",ATidx,\"]\",sep=\"\")] -\n      as.matrix(mcmcCoda)[,paste(\"m[\",THATidx,\",\",ATidx,\"]\",sep=\"\")] , \n    main=paste(THISx1,\"-\",THATx1,\"@\",ATx2) , \n    xlab=paste(\"Difference in\",yName) , \n    compVal=0 ,ROPE=c(-1000,1000) )\n  show(compInfo)\n  saveGraph(file=paste(fileNameRoot,THISx1,\"-\",THATx1,\"At\",ATx2,sep=\"\"),\n            type=graphFileType)\n  # THIS x2level minus THAT x2level at AT x1level:\n  THISx2 = \"PSY\"\n  THATx2 = \"ENG\"\n  ATx1 = \"Full\"\n  THISidx = which(levels(myDataFrame[,x2Name])==THISx2)\n  THATidx = which(levels(myDataFrame[,x2Name])==THATx2)\n  ATidx   = which(levels(myDataFrame[,x1Name])==ATx1)\n  openGraph(height=4,width=4)\n  compInfo = plotPost( \n    as.matrix(mcmcCoda)[,paste(\"m[\",ATidx,\",\",THISidx,\"]\",sep=\"\")] -\n      as.matrix(mcmcCoda)[,paste(\"m[\",ATidx,\",\",THATidx,\"]\",sep=\"\")] , \n    main=paste(THISx2,\"-\",THATx2,\"@\",ATx1) , \n    xlab=paste(\"Difference in\",yName) , \n    compVal=0 ,ROPE=c(-1000,1000) )\n  show(compInfo)\n  saveGraph(file=paste(fileNameRoot,THISx2,\"-\",THATx2,\"At\",ATx1,sep=\"\"),\n            type=graphFileType)\n}\n#-------------------------------------------------------------------------------",
    "created" : 1538559135652.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1225834120",
    "id" : "125C12AD",
    "lastKnownWriteTime" : 1538638594,
    "last_content_update" : 1538638594351,
    "path" : "~/RMIT/2018 RMIT SEM 2/Applied Bayesian Statistics/Course Project/Bayesian.Course.Proj/Jags-Ymet-Xnom2fac-MrobustHet-Example.R",
    "project_path" : "Jags-Ymet-Xnom2fac-MrobustHet-Example.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}